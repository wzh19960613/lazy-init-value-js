class i{static autoFreeze=!0;_initFn;_autoFreeze;constructor(e,t){this._initFn=e,this._autoFreeze=t??r.autoFreeze}get inited(){return this._initFn===void 0}reset(e){this._initFn=e}freeze(){if(Object.isFrozen(this))return;delete this._autoFreeze,Object.freeze(this)}}class n extends i{static get autoFreeze(){return i.autoFreeze}static set autoFreeze(e){i.autoFreeze=e}constructor(e){super(null,e)}init(){if(this.inited)return!1;if(delete this._initFn,this._autoFreeze)this.freeze();return!0}get value(){return this.init(),null}}class r extends i{static get autoFreeze(){return i.autoFreeze}static set autoFreeze(e){i.autoFreeze=e}#e;constructor(e,t){super(e,t)}init(){if(!this._initFn)return!1;if(this.#e=this._initFn(),delete this._initFn,this._autoFreeze)this.freeze();return!0}get value(){return this.init(),this.#e}}class o extends i{static get autoFreeze(){return i.autoFreeze}static set autoFreeze(e){i.autoFreeze=e}#e;constructor(e,t){super(e,t)}get initing(){return this._initing||!1}value(){if(!this._initFn)return this.#e;return this._make_promise_and_init()}init(){if(!this._initFn)return!1;return this._make_promise_and_init((e)=>()=>e(!0))}get value_sync(){if(!this._initFn)return this.#e;if(!this._initing)this._init_value()}_initing;_resolvers=[];_rejections=[];_init_value(){this._initing=!0,this._initFn().then((e)=>{this.#e=e,delete this._initFn,delete this._initing;for(let t of this._resolvers??[])t(e);if(delete this._resolvers,delete this._rejections,this._autoFreeze)this.freeze()}).catch((e)=>{delete this._initing;for(let t of this._rejections??[])t(e);delete this._resolvers,delete this._rejections})}_make_promise_and_init(e){if(!this._resolvers)this._resolvers=[],this._rejections=[];return new Promise((t,s)=>{if(this._resolvers.push(e?e(t):t),this._rejections.push(s),!this._initing)this._init_value()})}}export{r as LazyInitValue,n as LazyInitNull,o as LazyAsyncInitValue};

//# debugId=DDD0CF933D7DA85F64756E2164756E21
//# sourceMappingURL=index.js.map
